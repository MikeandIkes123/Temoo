{% extends "base.html" %}

{% block content %}
<h2>My Reviews</h2>


<ul class="nav nav-tabs" id="reviewsTab" role="tablist">
    <li class="nav-item">
        <a class="nav-link active" id="product-reviews-tab" data-toggle="tab" href="#product-reviews" role="tab" aria-controls="product-reviews" aria-selected="true">Product Reviews</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" id="seller-reviews-tab" data-toggle="tab" href="#seller-reviews" role="tab" aria-controls="seller-reviews" aria-selected="false">Seller Reviews</a>
    </li>
</ul>


<div class="tab-content" id="reviewsTabContent">
    <div class="tab-pane fade show active" id="product-reviews" role="tabpanel" aria-labelledby="product-reviews-tab">
        {% if product_reviews %}
            <table class='table table-hover table-bordered container'>
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">Review ID</th>
                        <th scope="col">Product ID</th>
                        <th scope="col">Product Name</th>
                        <th scope="col">Review</th>
                        <th scope="col">Rating</th>
                        <th scope="col">Review Time</th>
                    </tr>
                </thead>
                <tbody>
                    {% for review in product_reviews %}
                        <tr>
                            <th scope="row">{{ review.id }}</th>
                            <td>{{ review.pid }}</td>
                            <td>{{ review.product_name }}</td>
                            <td>{{ review.comment }}</td>
                            <td>{{ review.rating }}</td>
                            <td>{{ review.comment_time }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>No product reviews found.</p>
        {% endif %}
    </div>

    <div class="tab-pane fade" id="seller-reviews" role="tabpanel" aria-labelledby="seller-reviews-tab">
        {% if seller_reviews %}
            <table class='table table-hover table-bordered container'>
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">Review ID</th>
                        <th scope="col">Seller ID</th>
                        <th scope="col">User ID</th>
                        <th scope="col">Review</th>
                        <th scope="col">Rating</th>
                        <th scope="col">Review Time</th>
                    </tr>
                </thead>
                <tbody>
                    {% for review in seller_reviews %}
                        <tr>
                            <th scope="row">{{ review.id }}</th>
                            <td>{{ review.sid }}</td>
                            <td>{{ review.uid }}</td>
                            <td>{{ review.comment }}</td>
                            <td>{{ review.rating }}</td>
                            <td>{{ review.comment_time }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>No seller reviews found.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
